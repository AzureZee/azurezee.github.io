{"singlePage": [], "startSite": "07/15/2025", "filingNum": "", "onePageListNum": 15, "commentLabelColor": "#006b75", "yearColorList": ["#bc4c00", "#0969da", "#1f883d", "#A333D0"], "i18n": "CN", "themeMode": "manual", "dayTheme": "light", "nightTheme": "dark", "urlMode": "pinyin", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "style": "", "head": "", "indexScript": "", "indexStyle": "", "bottomText": "\u2764\ufe0f\ud83d\udc3e \u8f6c\u8f7d\u6587\u7ae0\u8bf7\u6ce8\u660e\u51fa\u5904\u55b5\uff0c\u8c22\u8c22\u55b5\uff01\ud83d\udc3e\u2764\ufe0f", "showPostSource": 1, "iconList": {}, "UTC": 8, "rssSplit": "sentence", "exlink": {}, "needComment": 1, "allHead": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekVercount.js'></script>", "title": "AzureZee's Blog", "subTitle": "\u55b5\u722a\u6572\u952e\u4e0d\u6210\u7ae0\uff0cbug\u5806\u6765\u5f53\u732b\u7cae\u3002", "avatarUrl": "https://azurezee.github.io/avatar.svg", "GMEEK_VERSION": "last", "postListJson": {"P3": {"htmlDir": "docs/post/jie-jue-Gemini -de-API-lian-jie-cuo-wu.html", "labels": ["Gemini"], "postTitle": "\u89e3\u51b3Gemini \u7684API\u8fde\u63a5\u9519\u8bef", "postUrl": "post/jie-jue-Gemini%20-de-API-lian-jie-cuo-wu.html", "postSourceUrl": "https://github.com/AzureZee/azurezee.github.io/issues/3", "commentNum": 0, "wordCount": 556, "description": "### \u672c\u60f3\u8bd5\u8bd5Gemini CLI \u7684 Flutter \u6269\u5c55\n\u4e8e\u662f\u628a\u51e0\u4e2a\u6708\u524d\u5b89\u88c5\u4f46\u662f\u4e00\u76f4\u6ca1\u7528\u8fc7\u7684Gemini CLI\u66f4\u65b0\u540e,\n\u6ee1\u6000\u671f\u5f85\u5730\u8ddf\u5b83\u6253\u4e2a\u62db\u547c,\u7b49\u6765\u7684\u5374\u662f [API Error: exception TypeError: fetch failed sending request] .\n\n### \u5728\u76f8\u5173issue\u91cc\u627e\u5230\u4e86\u89e3\u51b3\u65b9\u6cd5\n\u5f97\u5148\u7528\u547d\u4ee4`$env:http_proxy = 'http://xxx.xxx.xxx.xxx:8080/'`\n\u8bbe\u7f6e\u7ec8\u7aef\u4f7f\u7528\u7684\u4ee3\u7406\u7684\u73af\u5883\u53d8\u91cf, \u518d\u8fdb\u5165Gemini CLI, \u8fd9\u6b21\u7ec8\u4e8e\u53ef\u4ee5\u6b63\u5e38\u5bf9\u8bdd\u4e86.\n\u4e0d\u8fc7\u7528\u547d\u4ee4\u8bbe\u7f6e\u7684\u53d8\u91cf\u662f\u4e34\u65f6\u7684, \u5728~/.gemini/.env\u6587\u4ef6\u914d\u7f6eHTTP_PROXY\u53d8\u91cf\u624d\u80fd\u6301\u4e45\u5316,\n\u987a\u4fbf\u628aapikey\u4e5f\u52a0\u8fdb\u53bb\u4e86, \u4e4b\u524d\u662f\u653e\u5728\u7cfb\u7edf\u73af\u5883\u53d8\u91cf\u91cc\u7684.\n```\nGEMINI_API_KEY='API-KEY'\nHTTP_PROXY='http://xxx.xxx.xxx.xxx:8080/'\nhttp_proxy='http://xxx.xxx.xxx.xxx:8080/'\nHTTPS_PROXY='http://xxx.xxx.xxx.xxx:8080/'\nhttps_proxy='http://xxx.xxx.xxx.xxx:8080/'\n```\u3002", "top": 0, "createdAt": 1761655570, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://azurezee.github.io/avatar.svg", "createdDate": "2025-10-28", "dateLabelColor": "#0969da"}, "P4": {"htmlDir": "docs/post/pei-zhi-AndroidStudio-de-Gradle-gou-jian-yi-lai-de-jing-xiang.html", "labels": ["mirror", "AndroidStudio"], "postTitle": "\u914d\u7f6eAndroidStudio\u7684Gradle\u6784\u5efa\u4f9d\u8d56\u7684\u955c\u50cf", "postUrl": "post/pei-zhi-AndroidStudio-de-Gradle-gou-jian-yi-lai-de-jing-xiang.html", "postSourceUrl": "https://github.com/AzureZee/azurezee.github.io/issues/4", "commentNum": 0, "wordCount": 3069, "description": "# 1.\u9879\u76ee\u7ea7\u914d\u7f6e\n### 1.1 \u521b\u5efa\u4e00\u4e2a`gradle-mirror.ps1`\u6587\u4ef6,\u7c98\u8d34\u4ee5\u4e0b\u4ee3\u7801:\n```pwsh\nparam(\n    # \u9879\u76ee\u6839\u76ee\u5f55\u8def\u5f84\uff0c\u9ed8\u8ba4\u5f53\u524d\u76ee\u5f55\n    [string]$projectPath = '.'\n)\n\n# wrapper \u914d\u7f6e\u6587\u4ef6\u8def\u5f84\n$wrapperFile = Join-Path $projectPath 'gradle\\wrapper\\gradle-wrapper.properties'\n\nif (-Not (Test-Path $wrapperFile)) {\n    Write-Host '\u672a\u627e\u5230 $wrapperFile'\n    exit 1\n}\n\n# \u8bfb\u53d6\u6587\u4ef6\u5e76\u66ff\u6362\n(Get-Content $wrapperFile) `\n    -replace 'https\\\\://services\\.gradle\\.org/distributions', 'https\\://mirrors.cloud.tencent.com/gradle' `\n    -replace '-bin\\.zip', '-all.zip' `\n    | Set-Content $wrapperFile\n\nWrite-Host '\u5df2\u66f4\u65b0 $wrapperFile'\n```\n### 1.2 Android Studio \u5916\u90e8\u5de5\u5177(External Tools)\n\n- \u6253\u5f00\u8bbe\u7f6e, \u641c\u7d22\u6846\u8f93\u5165`External Tools`, \u627e\u5230\u5916\u90e8\u5de5\u5177(External Tools)\u9009\u9879\n- \u70b9\u51fb\u53f3\u4fa7\u7684 + \u53f7\u65b0\u589e\u4e00\u4e2a\u5de5\u5177\n- \u4f9d\u6b21\u586b\u5199\u914d\u7f6e, `Name: Gradle Mirror` | `Program: powershell.exe`\n- Arguments:`-ExecutionPolicy Bypass -File 'C:\\myscripts\\gradle-mirror.ps1' '$ProjectFileDir$' `\n- Working directory:`$ProjectFileDir$`\n- \u70b9\u786e\u5b9a\u4fdd\u5b58\n### 1.3 \u4f7f\u7528\u65b9\u6cd5\n\n- \u5728\u9879\u76ee\u76ee\u5f55\u4e0b\u6216\u968f\u4fbf\u54ea\u4e2a\u6587\u4ef6\u91cc\u53f3\u952e,\u9009\u62e9\u521a\u521a\u521b\u5efa\u7684`Gradle Mirror`\u5c31\u80fd\u81ea\u52a8\u66ff\u6362\u4e0b\u8f7d\u5730\u5740\u4e86\n\n# 2.\u5168\u5c40\u914d\u7f6e\n\u56e0\u4e3a\u6211\u8981\u4f7f\u7528kotlin,\u6240\u4ee5\u521b\u5efa`~/.gradle/init.gradle.kts`\u6587\u4ef6,\u7c98\u8d34\u4ee5\u4e0b\u5185\u5bb9:\n[\u4ece\u8fd9\u91cc\u6284\u7684](https://www.cnblogs.com/Chary/articles/18657340)\n```kotlin\n@file:Suppress('UnstableApiUsage')\n\nimport org.gradle.util.GradleVersion\n\nval urlMappingsTencent = mapOf(\n    'https://repo.maven.apache.org/maven2' to 'https://mirrors.tencent.com/nexus/repository/maven-public/',\n    'https://dl.google.com/dl/android/maven2' to 'https://mirrors.tencent.com/nexus/repository/maven-public/',\n    'https://plugins.gradle.org/m2' to 'https://mirrors.tencent.com/nexus/repository/gradle-plugins/'\n)\n\nval urlMappingsAliyun = mapOf(\n    'https://repo.maven.apache.org/maven2' to 'https://maven.aliyun.com/repository/central/',\n    'https://dl.google.com/dl/android/maven2' to 'https://maven.aliyun.com/repository/google/',\n    'https://plugins.gradle.org/m2' to 'https://maven.aliyun.com/repository/gradle-plugin/',\n)\n\n/**\n * \u542f\u7528\u955c\u50cf\u5730\u5740\u6620\u5c04\n */\nfun RepositoryHandler.enableMirror() {\n    all {\n        if (this is MavenArtifactRepository) {\n            val originalUrl = this.url.toString().removeSuffix('/')\n            urlMappingsTencent[originalUrl]?.let {\n                logger.lifecycle('Repository $name [$url] is mirrored to $it')\n                setUrl(it)\n            }\n        }\n    }\n}\n\ngradle.allprojects {\n    buildscript {\n        repositories.enableMirror()\n    }\n    repositories.enableMirror()\n}\n\ngradle.beforeSettings {\n    pluginManagement.repositories.enableMirror()\n    // 6.8 \u53ca\u66f4\u9ad8\u7248\u672c\u6267\u884c DependencyResolutionManagement \u914d\u7f6e\n    val versionR68 = GradleVersion.version('6.8')\n    if (GradleVersion.current() >= versionR68) {\n        val getDrm = settings.javaClass.getDeclaredMethod('getDependencyResolutionManagement')\n        val drm = getDrm.invoke(settings)\n        val getRepos = drm.javaClass.getDeclaredMethod('getRepositories')\n        val repos = getRepos.invoke(drm) as RepositoryHandler\n        repos.enableMirror()\n        println('Gradle ${gradle.gradleVersion} DependencyResolutionManagement Configured $settings')\n    } else {\n        println('Gradle ${gradle.gradleVersion} DependencyResolutionManagement Ignored $settings')\n    }\n}\n```\u3002", "top": 0, "createdAt": 1761761955, "style": "", "script": "<script src='https://blog.meekdai.com/Gmeek/plugins/GmeekTOC.js'></script><script src='https://blog.meekdai.com/Gmeek/plugins/lightbox.js'></script>", "head": "", "ogImage": "https://azurezee.github.io/avatar.svg", "createdDate": "2025-10-30", "dateLabelColor": "#0969da"}}, "singeListJson": {}, "labelColorDict": {"AndroidStudio": "#1f6460", "bug": "#d73a4a", "documentation": "#0075ca", "Gemini": "#b093d2", "mirror": "#67d852"}, "displayTitle": "AzureZee's Blog", "faviconUrl": "https://azurezee.github.io/avatar.svg", "ogImage": "https://azurezee.github.io/avatar.svg", "primerCSS": "<link href='https://mirrors.sustech.edu.cn/cdnjs/ajax/libs/Primer/21.0.7/primer.css' rel='stylesheet' />", "homeUrl": "https://azurezee.github.io", "prevUrl": "disabled", "nextUrl": "disabled"}